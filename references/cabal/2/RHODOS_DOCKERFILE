FROM haskell:8.10.7

WORKDIR /build
COPY . .

RUN cabal update
RUN cabal v2-build cabal-install:unit-tests

RUN cabal test cabal-install:unit-tests --test-option='-p $0 ~ /Check top level getter functions/ || $0 ~ /generators/ || $0 ~ /golden/ || $0 ~ /createProject tests/'

