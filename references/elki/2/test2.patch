From 62959418d5599f99da89be3fbc948660dd9e9489 Mon Sep 17 00:00:00 2001
From: lapplislazuli <Leonhard.Applis@Protonmail.com>
Date: Tue, 15 Jun 2021 08:23:34 +0200
Subject: [PATCH] test2

---
 .../test/java/elki/clustering/kmeans/ExponionKMeansTest.java  | 11 +++++++++++
 1 file changed, 11 insertions(+)

diff --git a/elki-clustering/src/test/java/elki/clustering/kmeans/ExponionKMeansTest.java b/elki-clustering/src/test/java/elki/clustering/kmeans/ExponionKMeansTest.java
index 6fdd3c687..886d7132f 100644
--- a/elki-clustering/src/test/java/elki/clustering/kmeans/ExponionKMeansTest.java
+++ b/elki-clustering/src/test/java/elki/clustering/kmeans/ExponionKMeansTest.java
@@ -45,4 +45,15 @@ public class ExponionKMeansTest extends AbstractClusterAlgorithmTest {
     assertFMeasure(db, result, 0.998005);
     assertClusterSizes(result, new int[] { 199, 200, 200, 200, 201 });
   }
+
+    // Tests Issue 87
+    @Test
+    public void testKMeansExponion_SingleCluster_shouldPutAllInOneCluster() {
+        Database db = makeSimpleDatabase(UNITTEST + "different-densities-2d-no-noise.ascii", 1000);
+        Clustering<?> result = new ELKIBuilder<ExponionKMeans<DoubleVector>>(ExponionKMeans.class) //
+                .with(KMeans.K_ID, 1) //
+                .with(KMeans.SEED_ID, 7) //
+                .build().autorun(db);
+        assertClusterSizes(result, new int[] { 1000});
+    }
 }
-- 
2.14.2.windows.3

