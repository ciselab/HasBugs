FROM haskell:8.10.7

WORKDIR /build
COPY . .

RUN cabal update
RUN cabal configure --enable-tests
RUN cabal install --only-dependencies 
RUN cabal build

ENTRYPOINT ["cabal","test"]